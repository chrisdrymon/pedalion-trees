{"version":3,"sources":["lib/types.js","components/Header/Header.js","components/Header/index.js","components/Markdown/Markdown.js","components/Markdown/index.js","components/Hero/Hero.js","components/Hero/index.js","components/Collection/Collection.js","components/Collection/index.js","components/Home/Home.js","components/Home/index.js","components/ArethusaWrapper/ArethusaConfig.js","components/ArethusaWrapper/ArethusaWrapper.js","components/ArethusaWrapper/index.js","components/ControlPanel/ControlPanel.js","components/ControlPanel/index.js","components/Treebank/Treebank.js","components/Treebank/index.js","components/Publication/Publication.js","components/Publication/index.js","components/NotFound/NotFound.js","components/NotFound/index.js","components/PublicationDirector/PublicationDirector.js","components/PublicationDirector/index.js","components/PublicationGroup/PublicationGroup.js","components/PublicationGroup/index.js","components/PublicationGroupDirector/PublicationGroupDirector.js","components/PublicationGroupDirector/index.js","components/Page/Page.js","components/Page/index.js","components/TreebankService/TreebankService.js","components/TreebankService/index.js","components/EmbeddedTreebank/EmbeddedTreebank.js","components/EmbeddedTreebank/index.js","components/EmbeddedPublication/EmbeddedPublication.js","components/EmbeddedPublication/index.js","components/EmbeddedNotFound/EmbeddedNotFound.js","components/EmbeddedNotFound/index.js","components/EmbeddedPublicationDirector/EmbeddedPublicationDirector.js","components/EmbeddedPublicationDirector/index.js","components/Embedded/Embedded.js","components/Embedded/index.js","components/App/App.js","components/App/index.js","serviceWorker.js","index.js","components/Publication/Publication.module.css","components/EmbeddedTreebank/EmbeddedTreebank.module.css","components/Hero/Hero.module.css","components/Treebank/Treebank.module.css","components/ControlPanel/ControlPanel.module.css"],"names":["chunksType","shape","start","number","end","numbers","arrayOf","oneOfType","string","sectionType","locus","isRequired","path","xml","link","notes","chunks","publicationType","author","work","editors","sections","collectionType","title","element","publications","text","Header","logo","subtitle","copyright","report","github","twitter","collections","search","params","chunk","publication","w","config","children","undefined","props","href","defaultProps","transformLinkUri","uri","uriTransformer","process","Markdown","Hero","className","styles","jumbotronSmall","source","renderSubtitle","renderRow","key","scope","Array","isArray","map","e","renderEditors","s","section","getStart","renderSection","Collection","p","Home","c","collection","renderCollection","defaultConfig","main","debug","showKeys","chunkParam","auxConfPath","retrievers","TreebankRetriever","resource","docIdentifier","preselector","plugins","layouts","name","template","notifier","disable","navigator","chunkSize","navbar","resources","Gardener","route","lexInvFusekiEndpoint","morphologyServiceLat","newMorphologyServiceLat","morphologyServiceGrc","newMorphologyServiceGrc","morphologyServicePer","citeMapper","sgGrammar","depTree","contextMenu","contextMenuTemplate","morph","BspMorphRetriever","lexicalInventory","retriever","LexicalInventoryRetriever","matchAll","relation","advancedMode","relations","keyCapture","regex","greek","α","ε","η","ι","ο","υ","ω","keys","sidepanelConfig","JSON","parse","stringify","remoteUrl","ArethusaWrapper","constructor","this","render","bind","doc","window","Arethusa","$","widget","gotoSentence","remove","removeToastContainer","on","from","with","getConfig","api","getSubdoc","getMorph","sentenceId","wordId","refreshView","min","a","b","max","HtmlLink","to","ControlPanel","Component","super","state","refIsOpen","settingsIsOpen","getLines","getFbcnl","createLink","toggleRefOpen","toggleSettingsOpen","renderSettingsLinks","lines","ii","push","match","index","Number","indexOf","length","getFbcnlFromNumbers","linkQuery","Object","entries","query","queryString","setState","fullQuery","newConfig","refresh","first","back","current","next","last","LinkComponent","Link","id","dummyIcon","dropdownButton","type","aria-haspopup","aria-expanded","onClick","dropdownScroll","n","icon","Settings","Treebank","additionalArgs","refreshControlPanel","renderArethusa","componentDidMount","componentDidUpdate","location","parsed","result","forEach","prototype","hasOwnProperty","call","returnVal","arethusa","treebankContainer","publicationRow","t","renderText","Publication","subDoc","setSubdoc","interval","setInterval","componentWillUnmount","clearInterval","publicationPath","publicationLink","renderLocusRow","renderLinkRow","markdown","treebankWrapper","target","rel","NotFound","PublicationDirector","argsLookup","args","PublicationGroup","PublicationGroupDirector","Page","exact","component","targetIframeID","targetURL","commModes","Destination","RECEIVE","TreebankService","redirectTo","messageHandler","service","MessagingService","receiverCB","deregister","request","responseFn","body","ResponseMessage","Success","status","message","Error","error","err","EmbeddedTreebank","links","EmbeddedPublication","EmbeddedNotFound","EmbeddedPublicationDirector","Embedded","App","basename","Boolean","hostname","ReactDOM","document","getElementById","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.51ef09b8.chunk.js","sourcesContent":["import {\r\n  arrayOf, number, shape, string, oneOfType, element,\r\n} from 'prop-types';\r\n\r\nexport const chunksType = shape({\r\n  start: number,\r\n  end: number,\r\n  numbers: arrayOf(oneOfType([string])),\r\n});\r\n\r\nexport const sectionType = shape({\r\n  locus: string.isRequired,\r\n  path: string.isRequired,\r\n  xml: string.isRequired,\r\n  link: string,\r\n  notes: string,\r\n  chunks: chunksType.isRequired,\r\n});\r\n\r\nexport const publicationType = shape({\r\n  path: string.isRequired,\r\n  author: string.isRequired,\r\n  work: string.isRequired,\r\n  editors: oneOfType([string, arrayOf(string)]).isRequired,\r\n  sections: arrayOf(sectionType).isRequired,\r\n});\r\n\r\nexport const collectionType = shape({\r\n  title: oneOfType([string, element]).isRequired,\r\n  publications: arrayOf(publicationType),\r\n  text: string,\r\n});\r\n\r\nexport const configType = shape({\r\n  logo: string,\r\n  link: string,\r\n  title: oneOfType([string, element]).isRequired,\r\n  subtitle: string.isRequired,\r\n  copyright: string,\r\n  report: string,\r\n  github: string,\r\n  twitter: string,\r\n  collections: arrayOf(collectionType).isRequired,\r\n});\r\n\r\nexport const locationType = shape({\r\n  search: string.isRequired,\r\n});\r\n\r\nexport const publicationMatchType = shape({\r\n  params: shape({\r\n    chunk: string.isRequired,\r\n  }).isRequired,\r\n});\r\n\r\nexport const publicationGroupMatchType = shape({\r\n  params: shape({\r\n    publication: string.isRequired,\r\n  }).isRequired,\r\n});\r\n\r\nexport const queryType = shape({\r\n  w: string,\r\n  config: string,\r\n});\r\n","import React from 'react';\r\nimport { string, node } from 'prop-types';\r\nimport { PerseidsHeader } from 'perseids-react-components';\r\n\r\nconst Header = ({ logo, link, children }) => {\r\n  if (link !== undefined) {\r\n    return <PerseidsHeader logo={logo} props={{ href: link }}>{children}</PerseidsHeader>;\r\n  }\r\n\r\n  return <PerseidsHeader logo={logo}>{children}</PerseidsHeader>;\r\n};\r\n\r\nHeader.propTypes = {\r\n  logo: string,\r\n  link: string,\r\n  children: node.isRequired,\r\n};\r\n\r\nHeader.defaultProps = {\r\n  logo: undefined,\r\n  link: undefined,\r\n};\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport ReactMarkdown, { uriTransformer } from 'react-markdown';\r\n\r\nconst transformLinkUri = (uri) => (\r\n  uriTransformer(uri[0] === '/' ? `${process.env.PUBLIC_URL}${uri}` : uri)\r\n);\r\n\r\nconst Markdown = (props) => (\r\n  <ReactMarkdown\r\n    {...props}\r\n    transformLinkUri={transformLinkUri}\r\n  />\r\n);\r\n\r\nexport default Markdown;\r\n","import Markdown from './Markdown';\r\n\r\nexport default Markdown;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Hero.module.css';\r\n\r\nimport Markdown from '../Markdown';\r\n\r\nconst renderSubtitle = (subtitle) => (\r\n  <Markdown source={subtitle} />\r\n);\r\n\r\nconst Hero = ({ title, subtitle }) => (\r\n  <div className={`jumbotron jumbotron-fluid bg-dark ${styles.jumbotronSmall}`}>\r\n    <div className=\"container text-light\">\r\n      <h1 className=\"display-4\">\r\n        {title}\r\n      </h1>\r\n      {subtitle && renderSubtitle(subtitle)}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nHero.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  subtitle: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Hero;\r\n","import Hero from './Hero';\r\n\r\nexport default Hero;\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { publicationType } from '../../lib/types';\r\n\r\nimport Markdown from '../Markdown';\r\n\r\nconst getStart = (chunks) => {\r\n  const { start, numbers } = chunks;\r\n\r\n  if (start) {\r\n    return start;\r\n  }\r\n\r\n  return numbers[0];\r\n};\r\n\r\nconst renderSection = (section) => {\r\n  const { locus, path, chunks } = section;\r\n  const start = getStart(chunks);\r\n\r\n  return (\r\n    <Fragment key={path}>\r\n      <a href={`${path}/${start}`}>\r\n        {locus}\r\n      </a>\r\n      <br />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nconst renderEditors = (editors) => {\r\n  if (Array.isArray(editors)) {\r\n    return (\r\n      <ul className=\"pl-1\">\r\n        {editors.map((e) => <li key={e}>{e}</li>)}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return editors;\r\n};\r\n\r\nconst renderRow = (publication) => {\r\n  const {\r\n    path,\r\n    author,\r\n    work,\r\n    editors,\r\n    sections,\r\n  } = publication;\r\n\r\n  return (\r\n    <tr className=\"d-flex\" key={path}>\r\n      <th className=\"col-md-3 d-none d-md-block\" scope=\"row\">{author}</th>\r\n      <td className=\"col-md-4 d-none d-md-block\">{work}</td>\r\n      <td className=\"col-8 col-sm-7 d-block d-md-none\">\r\n        <strong>{author}</strong>\r\n        ,\r\n        {' '}\r\n        <em>{work}</em>\r\n      </td>\r\n      <td className=\"col-md-3 col-lg-3 d-none d-md-block\">\r\n        {renderEditors(editors)}\r\n      </td>\r\n      <td className=\"col-4 col-sm-5 col-md-2 col-lg-2 text-right\">\r\n        {sections.map((s) => renderSection(s))}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst Collection = ({ title, publications, text }) => (\r\n  <div className=\"container\">\r\n    <div className=\"row pb-3\">\r\n      <div className=\"col-12\">\r\n        {title && <h2>{title}</h2>}\r\n        {text && <Markdown source={text} />}\r\n        <table className=\"table\">\r\n          {publications && (\r\n            <>\r\n              <thead className=\"thead-light\">\r\n                <tr className=\"d-flex\">\r\n                  <th className=\"col-md-3 d-none d-md-block\" scope=\"col\">Author</th>\r\n                  <th className=\"col-8 col-sm-7 col-md-4\" scope=\"col\">Work</th>\r\n                  <th className=\"col-md-3 col-lg-3 d-none d-md-block\" scope=\"col\">Editors</th>\r\n                  <th className=\"col-4 col-sm-5 col-md-2 col-lg-2\" scope=\"col\">Locus</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {publications.map((p) => renderRow(p))}\r\n              </tbody>\r\n            </>\r\n          )}\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nCollection.propTypes = {\r\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\r\n  publications: PropTypes.arrayOf(publicationType),\r\n  text: PropTypes.string,\r\n};\r\n\r\nCollection.defaultProps = {\r\n  publications: undefined,\r\n  text: undefined,\r\n};\r\n\r\nexport default Collection;\r\n","import Collection from './Collection';\r\n\r\nexport default Collection;\r\n","import React from 'react';\r\n\r\nimport { configType } from '../../lib/types';\r\n\r\nimport Header from '../Header';\r\nimport Hero from '../Hero';\r\nimport Collection from '../Collection';\r\n\r\nconst renderCollection = (collection) => {\r\n  const { title, text, publications } = collection;\r\n\r\n  return (\r\n    <Collection\r\n      key={title}\r\n      title={title}\r\n      text={text}\r\n      publications={publications}\r\n    />\r\n  );\r\n};\r\n\r\nconst Home = ({ config }) => {\r\n  const {\r\n    logo,\r\n    link,\r\n    title,\r\n    subtitle,\r\n    collections,\r\n  } = config;\r\n\r\n  return (\r\n    <>\r\n      <Header logo={logo} link={link}>\r\n        {title}\r\n      </Header>\r\n      <Hero title={title} subtitle={subtitle} />\r\n      {collections.map((c) => renderCollection(c))}\r\n    </>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  config: configType.isRequired,\r\n};\r\n\r\nexport default Home;\r\n","import Home from './Home';\r\n\r\nexport default Home;\r\n","const defaultConfig = {\r\n  main: {\r\n    debug: false,\r\n    showKeys: false,\r\n    chunkParam: 'chunk',\r\n    auxConfPath: `${process.env.PUBLIC_URL}/arethusa/configs`,\r\n    retrievers: {\r\n      TreebankRetriever: {\r\n        resource: 'Gardener',\r\n        docIdentifier: 'treebank',\r\n        preselector: 'w',\r\n      },\r\n    },\r\n    plugins: [\r\n      'text',\r\n      'morph',\r\n      'relation',\r\n      'depTree',\r\n    ],\r\n    layouts: [\r\n      {\r\n        name: 'widget',\r\n        template: 'js/templates/widget.html',\r\n      },\r\n    ],\r\n  },\r\n  notifier: {\r\n    disable: true,\r\n  },\r\n  navigator: {\r\n    chunkSize: 1,\r\n  },\r\n  navbar: false,\r\n  resources: {\r\n    Gardener: {\r\n      route: `${process.env.PUBLIC_URL}/xml/:doc`,\r\n      params: [\r\n        'doc',\r\n      ],\r\n    },\r\n    lexInvFusekiEndpoint: {\r\n      route: 'https://fuseki.perseids.org/fuseki/ds/query?format=json',\r\n    },\r\n    morphologyServiceLat: {\r\n      route: 'https://services.perseids.org/bsp/morphologyservice/analysis/word?lang=lat&engine=morpheuslat',\r\n    },\r\n    newMorphologyServiceLat: {\r\n      route: 'https://morph.perseids.org/analysis/word?lang=lat&engine=morpheuslat',\r\n    },\r\n    morphologyServiceGrc: {\r\n      route: 'https://services.perseids.org/bsp/morphologyservice/analysis/word?lang=grc&engine=morpheusgrc',\r\n    },\r\n    newMorphologyServiceGrc: {\r\n      route: 'https://morph.perseids.org/analysis/word?lang=grc&engine=morpheusgrc',\r\n    },\r\n    morphologyServicePer: {\r\n      route: 'https://localhost/extapi/morphologyservice/analysis/word?lang=per&engine=hazm',\r\n    },\r\n    citeMapper: {\r\n      route: 'https://services.perseids.org/cite_mapper/find_cite',\r\n    },\r\n    sgGrammar: {\r\n      route: 'https://services.perseids.org/sg/:doc.html',\r\n    },\r\n  },\r\n  plugins: {\r\n    text: {\r\n      main: true,\r\n      template: 'js/templates/text_with_context.html',\r\n    },\r\n    depTree: {\r\n      main: true,\r\n      contextMenu: false,\r\n      contextMenuTemplate: 'js/arethusa.dep_tree/templates/context_menu.html',\r\n      template: 'js/templates/dep_tree.html',\r\n    },\r\n    morph: {\r\n      retrievers: {\r\n        BspMorphRetriever: {\r\n          resource: 'morphologyServiceLat',\r\n        },\r\n      },\r\n      template: 'js/templates/morph3.html',\r\n      contextMenu: true,\r\n      contextMenuTemplate: 'js/arethusa.morph/templates/context_menu.html',\r\n      lexicalInventory: {\r\n        retriever: {\r\n          LexicalInventoryRetriever: {\r\n            resource: 'lexInvFusekiEndpoint',\r\n          },\r\n        },\r\n      },\r\n      matchAll: true,\r\n      '@include': 'js/arethusa.morph/configs/morph/lat_attributes.json',\r\n    },\r\n\r\n    relation: {\r\n      advancedMode: true,\r\n      relations: {},\r\n    },\r\n  },\r\n  keyCapture: {\r\n    regex: {\r\n      greek: {\r\n        α: '[\\u03b1\\u1f01\\u1f05\\u1f03\\u1f07\\u1f00\\u1f04\\u1f02\\u1f06\\u03ac\\u1f70\\u1fb6\\u1f81\\u1f85\\u1f83\\u1f87\\u1f80\\u1f84\\u1f82\\u1f86\\u1fb4\\u1fb2\\u1fb7\\u1fb3]',\r\n        ε: '[\\u03b5\\u03ad\\u1f72\\u1f10\\u1f11\\u1f14\\u1f12\\u1f15\\u1f13]',\r\n        η: '[\\u03b7\\u1f21\\u1f25\\u1f23\\u1f27\\u1f20\\u1f24\\u1f22\\u1f26\\u03ae\\u1f74\\u1fc6\\u1f91\\u1f95\\u1f93\\u1f97\\u1f90\\u1f94\\u1f92\\u1f96\\u1fc4\\u1fc2\\u1fc7\\u1fc3]',\r\n        ι: '[\\u03b9\\u1f31\\u1f35\\u1f33\\u1f37\\u1f30\\u1f34\\u1f32\\u1f36\\u03af\\u1f76\\u1fd6]',\r\n        ο: '[\\u03bf\\u03cc\\u1f78\\u1f40\\u1f41\\u1f44\\u1f42\\u1f45\\u1f43]',\r\n        υ: '[\\u03c5\\u1f51\\u1f55\\u1f53\\u1f57\\u1f50\\u1f54\\u1f52\\u1f56\\u03cd\\u1f7a\\u1fe6]',\r\n        ω: '[\\u03c9\\u1f61\\u1f65\\u1f63\\u1f67\\u1f60\\u1f64\\u1f62\\u1f66\\u03ce\\u1f7c\\u1ff6\\u1fa1\\u1fa5\\u1fa3\\u1fa7\\u1fa0\\u1fa4\\u1fa2\\u1fa6\\u1ff4\\u1ff2\\u1ff7\\u1ff3]',\r\n      },\r\n    },\r\n    keys: {},\r\n  },\r\n};\r\n\r\nconst sidepanelConfig = JSON.parse(JSON.stringify(defaultConfig));\r\nsidepanelConfig.main.layouts = [\r\n  {\r\n    name: 'main_with_sidepanel',\r\n    template: 'js/templates/main_with_sidepanel.html',\r\n  },\r\n];\r\n\r\nexport { defaultConfig, sidepanelConfig };\r\n","import { defaultConfig, sidepanelConfig } from './ArethusaConfig';\r\n\r\nimport './custom.css';\r\n\r\nconst elementId = 'treebank_container';\r\nconst remoteUrl = `${process.env.PUBLIC_URL}/arethusa/`;\r\n\r\nconst removeToastContainer = ($) => {\r\n  $('#toast-container').remove();\r\n};\r\n\r\nconst getConfig = (config) => {\r\n  if (config === 'sidepanel') {\r\n    return sidepanelConfig;\r\n  }\r\n\r\n  return defaultConfig;\r\n};\r\n\r\nclass ArethusaWrapper {\r\n  constructor() {\r\n    this.render = this.render.bind(this);\r\n  }\r\n\r\n  render(doc, chunk, { config, w }) {\r\n    // eslint-disable-next-line no-undef\r\n    const { Arethusa, $ } = window;\r\n\r\n    if (this.widget) {\r\n      if (this.doc === doc && this.chunk !== chunk) {\r\n        this.gotoSentence(chunk);\r\n        removeToastContainer($);\r\n      }\r\n    } else {\r\n      this.widget = new Arethusa();\r\n\r\n      this.widget\r\n        .on(elementId)\r\n        .from(remoteUrl)\r\n        .with(getConfig(config))\r\n        .start({ doc, chunk, w });\r\n    }\r\n\r\n    this.doc = doc;\r\n    this.chunk = chunk;\r\n  }\r\n\r\n  gotoSentence(chunk) {\r\n    return this.widget.api().gotoSentence(chunk);\r\n  }\r\n\r\n  getSubdoc() {\r\n    return this.widget.api().getSubdoc();\r\n  }\r\n\r\n  getMorph(sentenceId, wordId) {\r\n    return this.widget.api().getMorph(sentenceId, wordId);\r\n  }\r\n\r\n  refreshView() {\r\n    return this.widget.api().refreshView();\r\n  }\r\n}\r\n\r\nexport default ArethusaWrapper;\r\n","import ArethusaWrapper from './ArethusaWrapper';\r\n\r\nexport default ArethusaWrapper;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Octicon, { Settings } from '@primer/octicons-react';\r\nimport queryString from 'query-string';\r\n\r\nimport { string, node, bool } from 'prop-types';\r\n\r\nimport { chunksType, publicationMatchType, queryType } from '../../lib/types';\r\n\r\nimport styles from './ControlPanel.module.css';\r\n\r\nconst min = (a, b) => (a < b ? a : b);\r\nconst max = (a, b) => (a > b ? a : b);\r\n\r\nconst getFbcnlFromNumbers = (chunk, numbers) => {\r\n  const index = numbers.indexOf(chunk);\r\n\r\n  return [\r\n    numbers[0],\r\n    numbers[max(0, index - 1)],\r\n    chunk,\r\n    numbers[min(numbers.length - 1, index + 1)],\r\n    numbers[numbers.length - 1],\r\n  ];\r\n};\r\n\r\nconst HtmlLink = ({ to, children, ...props }) => (\r\n  <a href={to} {...props}>{children}</a>\r\n);\r\n\r\nHtmlLink.propTypes = {\r\n  to: string.isRequired,\r\n  children: node.isRequired,\r\n};\r\n\r\nclass ControlPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      refIsOpen: false,\r\n      settingsIsOpen: false,\r\n    };\r\n\r\n    this.getLines = this.getLines.bind(this);\r\n    this.getFbcnl = this.getFbcnl.bind(this);\r\n    this.createLink = this.createLink.bind(this);\r\n    this.toggleRefOpen = this.toggleRefOpen.bind(this);\r\n    this.toggleSettingsOpen = this.toggleSettingsOpen.bind(this);\r\n    this.renderSettingsLinks = this.renderSettingsLinks.bind(this);\r\n  }\r\n\r\n  getLines() {\r\n    const { chunks: { start, end, numbers } } = this.props;\r\n\r\n    if (numbers) {\r\n      return numbers;\r\n    }\r\n\r\n    const lines = [];\r\n    for (let ii = start; ii <= end; ii += 1) {\r\n      lines.push(ii);\r\n    }\r\n\r\n    return lines;\r\n  }\r\n\r\n  getFbcnl() {\r\n    const { chunks: { start, end, numbers }, match } = this.props;\r\n    const { params: { chunk } } = match;\r\n    const index = Number(chunk);\r\n\r\n    if (numbers) {\r\n      return getFbcnlFromNumbers(chunk, numbers);\r\n    }\r\n\r\n    return [\r\n      start,\r\n      max(start, index - 1),\r\n      chunk,\r\n      min(end, index + 1),\r\n      end,\r\n    ];\r\n  }\r\n\r\n  createLink(to) {\r\n    const { linkQuery } = this.props;\r\n    const link = `./${to}`;\r\n\r\n    if (Object.entries(linkQuery).length > 0) {\r\n      const query = queryString.stringify(linkQuery);\r\n\r\n      return `${link}?${query}`;\r\n    }\r\n\r\n    return link;\r\n  }\r\n\r\n  toggleRefOpen() {\r\n    this.setState(({ refIsOpen }) => ({ refIsOpen: !refIsOpen }));\r\n  }\r\n\r\n  toggleSettingsOpen() {\r\n    this.setState(({ settingsIsOpen }) => ({ settingsIsOpen: !settingsIsOpen }));\r\n  }\r\n\r\n  renderSettingsLinks() {\r\n    const { fullQuery } = this.props;\r\n    const { config } = fullQuery;\r\n    const newConfig = config === 'sidepanel' ? 'default' : 'sidepanel';\r\n    const text = config === 'sidepanel' ? 'Hide morphology' : 'Show morphology';\r\n\r\n    return (\r\n      <a\r\n        href={`?${queryString.stringify({ ...fullQuery, config: newConfig })}`}\r\n        className=\"dropdown-item\"\r\n      >\r\n        {text}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { refresh } = this.props;\r\n    const { refIsOpen, settingsIsOpen } = this.state;\r\n    const [first, back, current, next, last] = this.getFbcnl();\r\n    const lines = this.getLines();\r\n    const LinkComponent = refresh ? HtmlLink : Link;\r\n\r\n    return (\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n        <div className=\"collapse navbar-collapse\" id=\"controlPanel\">\r\n          <ul className={`navbar-nav mr-auto ${styles.dummyIcon}`} />\r\n          <ul className=\"navbar-nav mx-auto\">\r\n            <li className=\"nav-item\">\r\n              <LinkComponent className={`nav-link text-light ${styles.link}`} to={this.createLink(first)}>\r\n                &laquo; First\r\n              </LinkComponent>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <LinkComponent className={`nav-link text-light ${styles.link}`} to={this.createLink(back)}>\r\n                &#8249; Back\r\n              </LinkComponent>\r\n            </li>\r\n            <li className=\"nav-item dropdown\">\r\n              <button className={`btn btn-link nav-link text-light dropdown-toggle ${styles.dropdownButton}`} type=\"button\" aria-haspopup=\"true\" aria-expanded={refIsOpen} onClick={this.toggleRefOpen}>\r\n                {current}\r\n              </button>\r\n              <div className={`dropdown-menu ${styles.dropdownScroll} ${refIsOpen ? 'show' : ''}`}>\r\n                {\r\n                  lines.map((n) => (\r\n                    <LinkComponent className=\"dropdown-item\" key={n} to={this.createLink(n)} onClick={this.toggleRefOpen}>\r\n                      {n}\r\n                    </LinkComponent>\r\n                  ))\r\n                }\r\n              </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <LinkComponent className={`nav-link text-light ${styles.link}`} to={this.createLink(next)}>\r\n                Next &#8250;\r\n              </LinkComponent>\r\n            </li>\r\n            <li>\r\n              <LinkComponent className={`nav-link text-light ${styles.link}`} to={this.createLink(last)}>\r\n                Last &raquo;\r\n              </LinkComponent>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item dropdown dropleft\">\r\n              <button className=\"btn btn-link nav-link text-light\" type=\"button\" aria-haspopup=\"true\" aria-expanded={settingsIsOpen} onClick={this.toggleSettingsOpen}>\r\n                <Octicon icon={Settings} />\r\n              </button>\r\n              <div className={`dropdown-menu ${styles.dropdownScroll} ${settingsIsOpen ? 'show' : ''}`}>\r\n                {this.renderSettingsLinks()}\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nControlPanel.propTypes = {\r\n  chunks: chunksType.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  refresh: bool.isRequired,\r\n  fullQuery: queryType.isRequired,\r\n  linkQuery: queryType.isRequired,\r\n};\r\n\r\nexport default ControlPanel;\r\n","import ControlPanel from './ControlPanel';\r\n\r\nexport default ControlPanel;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport queryString from 'query-string';\r\n\r\nimport { chunksType, publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport styles from './Treebank.module.css';\r\n\r\nimport ArethusaWrapper from '../ArethusaWrapper';\r\nimport ControlPanel from '../ControlPanel';\r\n\r\nclass Treebank extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.additionalArgs = this.additionalArgs.bind(this);\r\n    this.refreshControlPanel = this.refreshControlPanel.bind(this);\r\n    this.linkQuery = this.linkQuery.bind(this);\r\n    this.renderArethusa = this.renderArethusa.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.renderArethusa();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.renderArethusa();\r\n  }\r\n\r\n  additionalArgs() {\r\n    const { location: { search } } = this.props;\r\n    const parsed = queryString.parse(search);\r\n    const result = {};\r\n\r\n    ['w', 'config'].forEach((n) => {\r\n      if (Object.prototype.hasOwnProperty.call(parsed, n)) {\r\n        result[n] = parsed[n];\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  refreshControlPanel() {\r\n    const additionalArgs = this.additionalArgs();\r\n    let returnVal = false;\r\n\r\n    ['w'].forEach((n) => {\r\n      if (Object.prototype.hasOwnProperty.call(additionalArgs, n)) {\r\n        returnVal = true;\r\n      }\r\n    });\r\n\r\n    return returnVal;\r\n  }\r\n\r\n  linkQuery() {\r\n    const additionalArgs = this.additionalArgs();\r\n    const linkQuery = {};\r\n\r\n    ['config'].forEach((n) => {\r\n      if (Object.prototype.hasOwnProperty.call(additionalArgs, n)) {\r\n        linkQuery[n] = additionalArgs[n];\r\n      }\r\n    });\r\n\r\n    return linkQuery;\r\n  }\r\n\r\n  renderArethusa() {\r\n    const {\r\n      xml,\r\n      match: { params: { chunk } },\r\n      arethusa: { render },\r\n    } = this.props;\r\n    const additionalArgs = this.additionalArgs();\r\n\r\n    render(xml, chunk, additionalArgs);\r\n  }\r\n\r\n  render() {\r\n    const { chunks, match } = this.props;\r\n    const refreshControlPanel = this.refreshControlPanel();\r\n    const linkQuery = this.linkQuery();\r\n    const fullQuery = this.additionalArgs();\r\n\r\n    return (\r\n      <>\r\n        <ControlPanel\r\n          match={match}\r\n          chunks={chunks}\r\n          refresh={refreshControlPanel}\r\n          fullQuery={fullQuery}\r\n          linkQuery={linkQuery}\r\n        />\r\n        <div className=\"__artsa\">\r\n          <div id=\"treebank_container\" className={styles.treebankContainer} />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nTreebank.propTypes = {\r\n  arethusa: PropTypes.instanceOf(ArethusaWrapper).isRequired,\r\n  chunks: chunksType.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n  xml: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Treebank;\r\n","import Treebank from './Treebank';\r\n\r\nexport default Treebank;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { chunksType, publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport styles from './Publication.module.css';\r\n\r\nimport Header from '../Header';\r\nimport ArethusaWrapper from '../ArethusaWrapper';\r\nimport Treebank from '../Treebank';\r\nimport Markdown from '../Markdown';\r\n\r\nconst renderText = (text) => {\r\n  if (Array.isArray(text)) {\r\n    return (\r\n      <div>\r\n        {text.map((t) => (\r\n          <span key={t}>\r\n            {t}\r\n            <br />\r\n          </span>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return text;\r\n};\r\n\r\nconst renderRow = (title, text) => (\r\n  <tr>\r\n    <th scope=\"col\">{title}</th>\r\n    <td className={styles.publicationRow}>\r\n      {renderText(text)}\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nconst renderLinkRow = (title, link) => (\r\n  <tr>\r\n    <th scope=\"col\">{title}</th>\r\n    <td>\r\n      <a href={link}>{link}</a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nconst renderMarkdownRow = (title, markdown) => (\r\n  <tr>\r\n    <th scope=\"col\">{title}</th>\r\n    <td className={styles.publicationRow}>\r\n      <Markdown source={markdown} />\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nconst renderLocusRow = (title, text, publicationPath) => (\r\n  <tr>\r\n    <th scope=\"col\">{title}</th>\r\n    <td className={styles.publicationRow}>\r\n      {text}\r\n      {' '}\r\n      <a href={`../${publicationPath}`}>\r\n        (See all)\r\n      </a>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nclass Publication extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      subDoc: '',\r\n    };\r\n\r\n    this.setSubdoc = this.setSubdoc.bind(this);\r\n\r\n    this.arethusa = new ArethusaWrapper();\r\n  }\r\n\r\n  componentDidMount() {\r\n    // eslint-disable-next-line no-undef\r\n    this.interval = window.setInterval(this.setSubdoc, 100);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // eslint-disable-next-line no-undef\r\n    window.clearInterval(this.interval);\r\n  }\r\n\r\n  setSubdoc() {\r\n    try {\r\n      const subDoc = this.arethusa.getSubdoc();\r\n\r\n      this.setState({ subDoc });\r\n    } catch {\r\n      // When this `catch` block executes it means that Arethusa has not fully loaded.\r\n      // So we allow the timer to execute again.\r\n      // We don't unset the timer in the `try` block because sometimes Arethusa is partially\r\n      // loaded and returns `undefined`.\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      logo,\r\n      link,\r\n      publicationPath,\r\n      author,\r\n      work,\r\n      editors,\r\n      locus,\r\n      publicationLink,\r\n      notes,\r\n      xml,\r\n      chunks,\r\n      match,\r\n      location,\r\n    } = this.props;\r\n\r\n    const { subDoc } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Header logo={logo} link={link}>\r\n          <span>\r\n            <i>{work}</i>\r\n          </span>\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href={`${process.env.PUBLIC_URL}/`}>\r\n                Home\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </Header>\r\n        <div className=\"container pt-3\">\r\n          <h2>\r\n            <span>\r\n              {author}\r\n              ,\r\n              <i>\r\n                {' '}\r\n                {work}\r\n                {' '}\r\n              </i>\r\n              {locus}\r\n            </span>\r\n          </h2>\r\n          <table className=\"table\">\r\n            <tbody>\r\n              {!!author && renderRow('Author', author)}\r\n              {!!work && renderRow('Work', work)}\r\n              {!!locus && renderLocusRow('Locus', locus, publicationPath)}\r\n              {!!subDoc && renderRow('Reference', subDoc)}\r\n              {!!editors && renderRow('Editors', editors)}\r\n              {!!publicationLink && renderLinkRow('Link', publicationLink)}\r\n              {!!notes && renderMarkdownRow('Notes', notes)}\r\n            </tbody>\r\n          </table>\r\n          <div className={styles.treebankWrapper}>\r\n            <Treebank\r\n              xml={xml}\r\n              chunks={chunks}\r\n              location={location}\r\n              match={match}\r\n              arethusa={this.arethusa}\r\n            />\r\n          </div>\r\n          <div className=\"pt-1 pb-4 text-right\">\r\n            <a href={`${process.env.PUBLIC_URL}/xml/${xml}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              View XML\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nPublication.propTypes = {\r\n  logo: PropTypes.string,\r\n  link: PropTypes.string,\r\n  publicationPath: PropTypes.string.isRequired,\r\n  author: PropTypes.string.isRequired,\r\n  work: PropTypes.string.isRequired,\r\n  editors: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.arrayOf(PropTypes.string),\r\n  ]).isRequired,\r\n  locus: PropTypes.string.isRequired,\r\n  publicationLink: PropTypes.string,\r\n  notes: PropTypes.string,\r\n  xml: PropTypes.string.isRequired,\r\n  chunks: chunksType.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n};\r\n\r\nPublication.defaultProps = {\r\n  logo: undefined,\r\n  link: undefined,\r\n  publicationLink: undefined,\r\n  notes: undefined,\r\n};\r\n\r\nexport default Publication;\r\n","import Publication from './Publication';\r\n\r\nexport default Publication;\r\n","import React from 'react';\r\n\r\nimport { configType } from '../../lib/types';\r\n\r\nimport Header from '../Header';\r\n\r\nconst NotFound = ({ config: { logo, link } }) => (\r\n  <>\r\n    <Header logo={logo} link={link}>\r\n      <span>\r\n        Not Found\r\n      </span>\r\n      <ul className=\"navbar-nav ml-auto\">\r\n        <li className=\"nav-item\">\r\n          <a className=\"nav-link\" href={`${process.env.PUBLIC_URL}/`}>\r\n            Home\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </Header>\r\n    <div className=\"container pt-5\">\r\n      <div className=\"row col-12 pt-5 pb-3\">\r\n        <div className=\"col-12 text-center\">\r\n          <h1>Error 404</h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"row col-12 pb-3\">\r\n        <div className=\"col-12 text-center\">\r\n          <h2>Publication not found</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"row col-12 pb-3\">\r\n        <div className=\"col-12 text-center\">\r\n          <h2>\r\n            <a href={`${process.env.PUBLIC_URL}/`}>\r\n              Return to homepage\r\n            </a>\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </>\r\n);\r\n\r\nNotFound.propTypes = {\r\n  config: configType.isRequired,\r\n};\r\n\r\nexport default NotFound;\r\n","import NotFound from './NotFound';\r\n\r\nexport default NotFound;\r\n","import React, { Component } from 'react';\r\nimport { configType, publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport Publication from '../Publication';\r\nimport NotFound from '../NotFound';\r\n\r\nclass PublicationDirector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { config } = props;\r\n    const argsLookup = {};\r\n    const { logo, link } = config;\r\n\r\n    config.collections.forEach((collection) => {\r\n      (collection.publications || []).forEach((publication) => {\r\n        const {\r\n          author, work, editors, path: publicationPath,\r\n        } = publication;\r\n\r\n        publication.sections.forEach((section) => {\r\n          const {\r\n            path,\r\n            locus,\r\n            link: publicationLink,\r\n            notes,\r\n            xml,\r\n            chunks,\r\n          } = section;\r\n\r\n          argsLookup[path] = {\r\n            logo,\r\n            link,\r\n            publicationPath,\r\n            author,\r\n            work,\r\n            editors,\r\n            locus,\r\n            publicationLink,\r\n            notes,\r\n            xml,\r\n            chunks,\r\n          };\r\n        });\r\n      });\r\n    });\r\n\r\n    this.argsLookup = argsLookup;\r\n  }\r\n\r\n  render() {\r\n    const { config, match, location } = this.props;\r\n    const { publication } = match.params;\r\n    const args = this.argsLookup[publication];\r\n\r\n    if (args === undefined) {\r\n      return <NotFound config={config} />;\r\n    }\r\n\r\n    return <Publication {...args} match={match} location={location} />;\r\n  }\r\n}\r\n\r\nPublicationDirector.propTypes = {\r\n  config: configType.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n};\r\n\r\nexport default PublicationDirector;\r\n","import PublicationDirector from './PublicationDirector';\r\n\r\nexport default PublicationDirector;\r\n","import React from 'react';\r\n\r\nimport { configType } from '../../lib/types';\r\n\r\nimport Header from '../Header';\r\nimport Hero from '../Hero';\r\nimport Collection from '../Collection';\r\n\r\nconst renderCollection = (collection) => {\r\n  const { title, publications } = collection;\r\n\r\n  return (\r\n    <Collection\r\n      key={title}\r\n      title={title}\r\n      publications={publications}\r\n    />\r\n  );\r\n};\r\n\r\nconst PublicationGroup = ({\r\n  config: {\r\n    logo,\r\n    link,\r\n    title,\r\n    subtitle,\r\n    collections,\r\n  },\r\n}) => (\r\n  <>\r\n    <Header logo={logo} link={link}>\r\n      {title}\r\n      <ul className=\"navbar-nav ml-auto\">\r\n        <li className=\"nav-item\">\r\n          <a className=\"nav-link\" href={`${process.env.PUBLIC_URL}/`}>\r\n            Home\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </Header>\r\n    <Hero title={title} subtitle={subtitle} />\r\n    {collections.map((c) => renderCollection(c))}\r\n  </>\r\n);\r\n\r\nPublicationGroup.propTypes = {\r\n  config: configType.isRequired,\r\n};\r\n\r\nexport default PublicationGroup;\r\n","import PublicationGroup from './PublicationGroup';\r\n\r\nexport default PublicationGroup;\r\n","import React, { Component } from 'react';\r\n\r\nimport { configType, publicationGroupMatchType } from '../../lib/types';\r\n\r\nimport PublicationGroup from '../PublicationGroup';\r\nimport NotFound from '../NotFound';\r\n\r\nclass PublicationGroupDirector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { config } = props;\r\n    const argsLookup = {};\r\n    const {\r\n      logo,\r\n      link,\r\n      title,\r\n      subtitle,\r\n      report,\r\n      github,\r\n      twitter,\r\n      collections,\r\n    } = config;\r\n\r\n    collections.forEach((collection) => {\r\n      (collection.publications || []).forEach((publication) => {\r\n        const { path, author, work } = publication;\r\n\r\n        argsLookup[path] = {\r\n          logo,\r\n          link,\r\n          title,\r\n          subtitle,\r\n          report,\r\n          github,\r\n          twitter,\r\n          collections: [\r\n            {\r\n              title: (\r\n                <>\r\n                  {author}\r\n                  ,\r\n                  {' '}\r\n                  <i>{work}</i>\r\n                </>\r\n              ),\r\n              publications: [publication],\r\n            },\r\n          ],\r\n        };\r\n      });\r\n    });\r\n\r\n    this.argsLookup = argsLookup;\r\n  }\r\n\r\n  render() {\r\n    const { config, match } = this.props;\r\n    const { publication } = match.params;\r\n    const newConfig = this.argsLookup[publication];\r\n\r\n    if (newConfig === undefined) {\r\n      return <NotFound config={config} />;\r\n    }\r\n\r\n    return <PublicationGroup config={newConfig} />;\r\n  }\r\n}\r\n\r\nPublicationGroupDirector.propTypes = {\r\n  config: configType.isRequired,\r\n  match: publicationGroupMatchType.isRequired,\r\n};\r\n\r\nexport default PublicationGroupDirector;\r\n","import PublicationGroupDirector from './PublicationGroupDirector';\r\n\r\nexport default PublicationGroupDirector;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { PerseidsFooter } from 'perseids-react-components';\r\n\r\nimport { configType } from '../../lib/types';\r\n\r\nimport Home from '../Home';\r\nimport PublicationDirector from '../PublicationDirector';\r\nimport PublicationGroupDirector from '../PublicationGroupDirector';\r\nimport NotFound from '../NotFound';\r\n\r\nconst Page = ({\r\n  config,\r\n  config: {\r\n    copyright,\r\n    report,\r\n    github,\r\n    twitter,\r\n  },\r\n}) => (\r\n  <>\r\n    <Switch>\r\n      <Route exact path=\"/\" component={() => <Home config={config} />} />\r\n      <Route exact path=\"/:publication/\" render={(props) => <PublicationGroupDirector {...props} config={config} />} />\r\n      <Route exact path=\"/:publication/:chunk\" render={(props) => <PublicationDirector {...props} config={config} />} />\r\n      <Route path=\"/\" component={() => <NotFound config={config} />} />\r\n    </Switch>\r\n    <PerseidsFooter\r\n      copyright={copyright}\r\n      report={report}\r\n      github={github}\r\n      twitter={twitter}\r\n    />\r\n  </>\r\n);\r\n\r\nPage.propTypes = {\r\n  config: configType.isRequired,\r\n};\r\n\r\nexport default Page;\r\n","import Page from './Page';\r\n\r\nexport default Page;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {\r\n  MessagingService,\r\n  ResponseMessage,\r\n  WindowIframeDestination as Destination,\r\n} from 'alpheios-messaging';\r\n\r\nimport ArethusaWrapper from '../ArethusaWrapper';\r\n\r\nconst config = {\r\n  name: 'treebank',\r\n  targetIframeID: 'string-not-used',\r\n  targetURL: 'string-not-used',\r\n  commModes: [Destination.commModes.RECEIVE],\r\n};\r\n\r\nconst error = (request, message) => ResponseMessage.Error(request, new Error(message));\r\n\r\nclass TreebankService extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { redirectTo: null };\r\n    this.messageHandler = this.messageHandler.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.service = new MessagingService('treebank-service', new Destination({ ...config, receiverCB: this.messageHandler }));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.service.deregister();\r\n  }\r\n\r\n  messageHandler(request, responseFn) {\r\n    const { arethusa } = this.props;\r\n    const { body } = request;\r\n    const [name] = Object.keys(body);\r\n\r\n    try {\r\n      switch (name) {\r\n        case 'gotoSentence':\r\n          this.setState({ redirectTo: body.gotoSentence.sentenceId });\r\n\r\n          responseFn(ResponseMessage.Success(request, { status: 'success' }));\r\n          break;\r\n        case 'getMorph':\r\n          responseFn(ResponseMessage.Success(\r\n            request,\r\n            arethusa.getMorph(body.getMorph.sentenceId, body.getMorph.wordId),\r\n          ));\r\n          break;\r\n        case 'refreshView':\r\n          responseFn(ResponseMessage.Success(request, arethusa.refreshView()));\r\n          break;\r\n        default:\r\n          responseFn(error(`Unsupported request: ${name}`));\r\n      }\r\n    } catch (err) {\r\n      responseFn(ResponseMessage.Error(request, err));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { redirectTo } = this.state;\r\n\r\n    return (\r\n      redirectTo && <Redirect to={redirectTo} />\r\n    );\r\n  }\r\n}\r\n\r\nTreebankService.propTypes = {\r\n  arethusa: PropTypes.instanceOf(ArethusaWrapper).isRequired,\r\n};\r\n\r\nexport default TreebankService;\r\n","import TreebankService from './TreebankService';\r\n\r\nexport default TreebankService;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport queryString from 'query-string';\r\n\r\nimport { publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport styles from './EmbeddedTreebank.module.css';\r\n\r\nimport ArethusaWrapper from '../ArethusaWrapper';\r\nimport TreebankService from '../TreebankService';\r\n\r\nclass EmbeddedTreebank extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.additionalArgs = this.additionalArgs.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.renderArethusa();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.renderArethusa();\r\n  }\r\n\r\n  additionalArgs() {\r\n    const { location: { search } } = this.props;\r\n    const parsed = queryString.parse(search);\r\n    const result = {};\r\n\r\n    ['w'].forEach((n) => {\r\n      if (Object.prototype.hasOwnProperty.call(parsed, n)) {\r\n        result[n] = parsed[n];\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  renderArethusa() {\r\n    const {\r\n      xml,\r\n      match: { params: { chunk } },\r\n      arethusa: { render },\r\n    } = this.props;\r\n    const additionalArgs = this.additionalArgs();\r\n\r\n    render(xml, chunk, additionalArgs);\r\n  }\r\n\r\n  render() {\r\n    const { match, arethusa } = this.props;\r\n    const { params: { publication, chunk } } = match;\r\n\r\n    return (\r\n      <>\r\n        <div className=\"__artsa\">\r\n          <div id=\"treebank_container\" className={styles.treebankContainer} />\r\n        </div>\r\n        <div className={styles.links}>\r\n          <a href={`${process.env.PUBLIC_URL}/${publication}/${chunk}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            Credits and more information\r\n          </a>\r\n        </div>\r\n        <TreebankService arethusa={arethusa} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nEmbeddedTreebank.propTypes = {\r\n  arethusa: PropTypes.instanceOf(ArethusaWrapper).isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n  xml: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default EmbeddedTreebank;\r\n","import EmbeddedTreebank from './EmbeddedTreebank';\r\n\r\nexport default EmbeddedTreebank;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport ArethusaWrapper from '../ArethusaWrapper';\r\nimport EmbeddedTreebank from '../EmbeddedTreebank';\r\n\r\nclass EmbeddedPublication extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.arethusa = new ArethusaWrapper();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      xml,\r\n      match,\r\n      location,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <EmbeddedTreebank\r\n          xml={xml}\r\n          location={location}\r\n          match={match}\r\n          arethusa={this.arethusa}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nEmbeddedPublication.propTypes = {\r\n  xml: PropTypes.string.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n};\r\n\r\nexport default EmbeddedPublication;\r\n","import EmbeddedPublication from './EmbeddedPublication';\r\n\r\nexport default EmbeddedPublication;\r\n","import React from 'react';\r\n\r\nconst EmbeddedNotFound = () => (\r\n  <div className=\"container pt-5\">\r\n    <div className=\"row col-12 pt-5 pb-3\">\r\n      <div className=\"col-12 text-center\">\r\n        <h1>Error 404</h1>\r\n      </div>\r\n    </div>\r\n    <div className=\"row col-12 pb-3\">\r\n      <div className=\"col-12 text-center\">\r\n        <h2>Publication not found</h2>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default EmbeddedNotFound;\r\n","import EmbeddedNotFound from './EmbeddedNotFound';\r\n\r\nexport default EmbeddedNotFound;\r\n","import React, { Component } from 'react';\r\nimport { configType, publicationMatchType, locationType } from '../../lib/types';\r\n\r\nimport EmbeddedPublication from '../EmbeddedPublication';\r\nimport EmbeddedNotFound from '../EmbeddedNotFound';\r\n\r\nclass EmbeddedPublicationDirector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { config } = props;\r\n    const argsLookup = {};\r\n\r\n    config.collections.forEach((collection) => {\r\n      (collection.publications || []).forEach((publication) => {\r\n        publication.sections.forEach((section) => {\r\n          const { path, xml } = section;\r\n\r\n          argsLookup[path] = { xml };\r\n        });\r\n      });\r\n    });\r\n\r\n    this.argsLookup = argsLookup;\r\n  }\r\n\r\n  render() {\r\n    const { config, match, location } = this.props;\r\n    const { publication } = match.params;\r\n    const args = this.argsLookup[publication];\r\n\r\n    if (args === undefined) {\r\n      return <EmbeddedNotFound config={config} />;\r\n    }\r\n\r\n    const { xml } = args;\r\n\r\n    return <EmbeddedPublication xml={xml} match={match} location={location} />;\r\n  }\r\n}\r\n\r\nEmbeddedPublicationDirector.propTypes = {\r\n  config: configType.isRequired,\r\n  match: publicationMatchType.isRequired,\r\n  location: locationType.isRequired,\r\n};\r\n\r\nexport default EmbeddedPublicationDirector;\r\n","import EmbeddedPublicationDirector from './EmbeddedPublicationDirector';\r\n\r\nexport default EmbeddedPublicationDirector;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { configType } from '../../lib/types';\r\n\r\nimport EmbeddedPublicationDirector from '../EmbeddedPublicationDirector';\r\nimport EmbeddedNotFound from '../EmbeddedNotFound';\r\n\r\nconst Embedded = ({ config }) => (\r\n  <Switch>\r\n    <Route exact path=\"/embed/:publication/:chunk\" render={(props) => <EmbeddedPublicationDirector {...props} config={config} />} />\r\n    <Route path=\"/\" component={() => <EmbeddedNotFound config={config} />} />\r\n  </Switch>\r\n);\r\n\r\nEmbedded.propTypes = {\r\n  config: configType.isRequired,\r\n};\r\n\r\nexport default Embedded;\r\n","import Embedded from './Embedded';\r\n\r\nexport default Embedded;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nimport config from '../../config.json';\r\n\r\nimport Page from '../Page';\r\nimport Embedded from '../Embedded';\r\n\r\nconst App = () => (\r\n  <Router basename={process.env.PUBLIC_URL}>\r\n    <Switch>\r\n      <Route path=\"/embed/\" component={() => <Embedded config={config} />} />\r\n      <Route path=\"/\" component={() => <Page config={config} />} />\r\n    </Switch>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import App from './App';\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'perseids-react-components/build/css/index.css';\r\n\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publicationRow\":\"Publication_publicationRow__2CM5V\",\"treebankWrapper\":\"Publication_treebankWrapper__1VQGo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treebankContainer\":\"EmbeddedTreebank_treebankContainer__2NKzZ\",\"links\":\"EmbeddedTreebank_links__3gMHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotronSmall\":\"Hero_jumbotronSmall__3epoC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treebankContainer\":\"Treebank_treebankContainer__USlVN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownButton\":\"ControlPanel_dropdownButton__2rLH7\",\"dropdownScroll\":\"ControlPanel_dropdownScroll__2wzpK\",\"dummyIcon\":\"ControlPanel_dummyIcon__3jlUd\",\"link\":\"ControlPanel_link__xmcrh\"};"],"sourceRoot":""}